# Box次元盲盒商城系统转换报告

**转换时间**: 2025-08-15T20:50:06.716Z
**源系统**: Box_Mall.sql (118 tables)
**目标系统**: DevAPI Manager
**转换范围**: 核心业务表 (5 tables)

## 项目概述
- **项目名称**: Box次元盲盒商城系统
- **项目ID**: box-mall-system
- **描述**: 一个集成电商、游戏、社交功能的综合性盲盒平台，支持多级分销、概率抽奖、会员体系等核心功能
- **标签**: 电商, 游戏化, 社交, 分销, 盲盒

## 表分类结构
### 用户管理模块 (1张表)
- **分类ID**: user-management
- **颜色**: #3B82F6
- **描述**: 用户注册、认证、权限、会员等功能

### 商品目录管理 (1张表)
- **分类ID**: product-catalog
- **颜色**: #10B981
- **描述**: 商品分类、库存、价格、盲盒配置等

### 订单交易系统 (1张表)
- **分类ID**: order-transaction
- **颜色**: #F59E0B
- **描述**: 订单流程、支付处理、物流管理等

### 游戏奖励机制 (2张表)
- **分类ID**: gaming-rewards
- **颜色**: #8B5CF6
- **描述**: 盲盒抽奖、概率控制、奖品管理等

### 社交社区功能 (0张表)
- **分类ID**: social-community
- **颜色**: #EF4444
- **描述**: 用户互动、内容分享、关注系统等

### 财务佣金体系 (0张表)
- **分类ID**: financial-commission
- **颜色**: #06B6D4
- **描述**: 分销返佣、提现管理、财务记录等

### 系统配置管理 (0张表)
- **分类ID**: system-config
- **颜色**: #84CC16
- **描述**: 平台设置、后台管理、系统配置等

## 核心表转换详情
### 用户信息表 (box_user)
- **表ID**: box_user
- **分类**: 用户管理模块
- **字段数**: 31
- **索引数**: 5
- **预估数据量**: 9,000 行
- **描述**: 核心用户表，包含注册信息、财务状态、会员等级、分销关系等完整用户数据

### 商品信息表 (box_goods)
- **表ID**: box_goods
- **分类**: 商品目录管理
- **字段数**: 20
- **索引数**: 3
- **预估数据量**: 2,000 行
- **描述**: 商城商品目录表，支持实物和虚拟商品，包含价格体系、库存管理、分销配置等

### 盲盒配置表 (box_boxfl)
- **表ID**: box_boxfl
- **分类**: 游戏奖励机制
- **字段数**: 35
- **索引数**: 3
- **预估数据量**: 127 行
- **描述**: 盲盒核心配置表，包含概率设置、价格策略、限购规则、特殊玩法等游戏机制

### 盲盒订单表 (box_order)
- **表ID**: box_order
- **分类**: 订单交易系统
- **字段数**: 35
- **索引数**: 5
- **预估数据量**: 3,600 行
- **描述**: 盲盒购买订单核心表，支持多种支付方式、优惠券、代付、送礼等功能

### 中奖记录表 (box_prize_record)
- **表ID**: box_prize_record
- **分类**: 游戏奖励机制
- **字段数**: 26
- **索引数**: 5
- **预估数据量**: 11,500 行
- **描述**: 用户开盒中奖记录表，包含奖品信息、状态流转、物流处理等完整生命周期

## 表关系映射
### 用户-订单关系
- **关系ID**: user-order
- **类型**: ONE_TO_MANY
- **从表**: box_user (id)
- **到表**: box_order (user_id)
- **描述**: 一个用户可以有多个盲盒订单

### 订单-中奖记录
- **关系ID**: order-prize
- **类型**: ONE_TO_MANY
- **从表**: box_order (id)
- **到表**: box_prize_record (order_id)
- **描述**: 一个订单可以产生多个中奖记录(连抽)

### 盲盒-订单关系
- **关系ID**: boxfl-order
- **类型**: ONE_TO_MANY
- **从表**: box_boxfl (id)
- **到表**: box_order (boxfl_id)
- **描述**: 一个盲盒配置对应多个购买订单

### 商品-中奖记录
- **关系ID**: goods-prize
- **类型**: ONE_TO_MANY
- **从表**: box_goods (id)
- **到表**: box_prize_record (goods_id)
- **描述**: 一个商品可以在多次开盒中被抽中

### 用户分销层级
- **关系ID**: user-agent-hierarchy
- **类型**: ONE_TO_MANY
- **从表**: box_user (id)
- **到表**: box_user (pid)
- **描述**: 用户之间的上下级分销关系

## 转换统计
- **项目数**: 1
- **分类数**: 7
- **表数**: 5
- **字段数**: 147
- **关系数**: 5

## 特色功能说明
1. **多层级分销系统**: 支持二级分销，自动计算返佣
2. **盲盒抽奖机制**: 四级概率控制，连抽优惠，锁盒功能
3. **多种支付方式**: 微信、支付宝、余额、虚拟货币
4. **会员权益体系**: VIP会员、等级权限、积分系统
5. **社交互动功能**: 赠送、分享、社区内容
6. **完整物流管理**: 预售、发货、收货全流程

## 使用说明
1. 执行 `box-mall-insertion.sql` 脚本导入数据到 DevAPI Manager
2. 将 `box-mall-mindmap-layout.json` 导入思维导图功能
3. 根据需要调整表结构和关系配置
4. 可参考此项目结构设计类似的电商游戏化平台