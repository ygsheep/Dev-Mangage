# DevAPI Manager 数据模型功能思维导图

## 1. 总体架构思维导图

```mermaid
mindmap
  root((DevAPI Manager 数据模型))
    核心功能
      数据表管理
        表基础信息
          表名和显示名
          注释和分类
          存储引擎配置
          字符集设置
          状态管理
        字段结构管理
          字段定义
            名称和类型
            长度精度设置
            默认值管理
          约束管理
            主键约束
            唯一约束
            非空约束
            外键约束
          业务属性
            业务主键标识
            字段分组
            显示顺序
        索引管理
          索引类型
            主键索引
            唯一索引
            普通索引
            全文索引
          索引优化
            复合索引
            前缀索引
            索引统计
      关系管理
        表间关系
          一对一关系
          一对多关系
          多对多关系
        外键约束
          级联操作
          约束行为配置
          引用完整性
        关系可视化
          关系图展示
          依赖分析
          路径查找
      智能化功能
        AI文档解析
          支持格式
            Markdown文档
            SQL语句
            Excel表格
            Word文档
          AI服务集成
            Ollama本地
            OpenAI GPT
            DeepSeek模型
            自定义服务
          解析流程
            文档上传
            AI分析处理
            结构化提取
            用户确认
            批量导入
        代码生成
          DDL语句生成
            CREATE TABLE
            ALTER TABLE
            CREATE INDEX
            约束定义
          迁移脚本
            版本对比
            变更分析
            回滚支持
    技术架构
      前端技术
        React 18
          组件化架构
          状态管理
          事件处理
        TypeScript
          类型安全
          接口定义
          编译检查
        Tailwind CSS
          响应式设计
          组件样式
          主题定制
        状态管理
          Zustand状态
          React Query缓存
          本地存储
      后端技术
        Node.js
          Express框架
          中间件机制
          错误处理
        Prisma ORM
          数据模型定义
          查询构建器
          迁移管理
        数据库
          SQLite开发
          PostgreSQL生产
          MySQL支持
      AI集成
        模型服务
          本地部署
          云端API
          混合架构
        提示工程
          文档解析模板
          结构化输出
          错误处理
    用户界面
      主界面设计
        概览页面
          项目统计
          表格列表
          搜索筛选
          操作按钮
        详情页面
          标签页导航
          字段管理
          索引管理
          关系管理
          SQL预览
      交互体验
        操作反馈
          成功提示
          错误警告
          加载状态
          确认对话框
        快捷操作
          键盘快捷键
          右键菜单
          拖拽排序
          批量操作
      响应式设计
        桌面端优化
        移动端适配
        平板端支持
    数据管理
      数据存储
        核心实体
          项目表
          数据表定义
          字段定义
          索引定义
          关系定义
        扩展功能
          统计信息
          变更日志
          文档记录
          枚举值管理
      数据完整性
        约束机制
          外键约束
          唯一约束
          检查约束
          触发器
        业务规则
          字段验证
          关系检查
          状态管理
      性能优化
        索引策略
          查询优化索引
          复合索引设计
          分区策略
        缓存机制
          查询缓存
          结果缓存
          会话缓存
```

## 2. 功能模块详细思维导图

### 2.1 数据表管理功能

```mermaid
mindmap
  root((数据表管理))
    表信息管理
      基础属性
        表名 table_name
        显示名 display_name
        注释 comment
        分类 category
        状态 status
          草稿 DRAFT
          已创建 ACTIVE
          已废弃 DEPRECATED
      存储配置
        存储引擎 engine
          InnoDB
          MyISAM
          Memory
          Archive
        字符集 charset
          utf8mb4
          utf8
          latin1
        排序规则 collation
          utf8mb4_unicode_ci
          utf8mb4_general_ci
      扩展属性
        表空间 tablespace
        自增起始值 auto_increment
        行格式 row_format
          DYNAMIC
          FIXED
          COMPRESSED
        数据大小 data_length
        索引大小 index_length
    字段结构管理
      字段基础信息
        字段名 field_name
        数据类型 data_type
          数值类型
            INT
            BIGINT
            DECIMAL
            FLOAT
            DOUBLE
          字符类型
            VARCHAR
            CHAR
            TEXT
            LONGTEXT
          时间类型
            DATETIME
            TIMESTAMP
            DATE
            TIME
          其他类型
            BOOLEAN
            JSON
            ENUM
            BLOB
        长度属性
          长度 length
          精度 precision
          标度 scale
      字段约束
        NULL约束
          允许NULL nullable=true
          不允许NULL nullable=false
        键约束
          主键 is_primary_key
          唯一键 is_unique
          外键 foreign_key
        默认值
          常量值
          函数值 CURRENT_TIMESTAMP
          NULL值
        自动属性
          自增长 is_auto_increment
          更新时间戳 ON UPDATE CURRENT_TIMESTAMP
      字段扩展
        业务属性
          业务主键 is_business_key
          必填字段 is_required
          字段分组 field_group
        显示属性
          排序顺序 sort_order
          显示顺序 display_order
        数据库特定
          字符集 character_set
          排序规则 collation
          无符号 is_unsigned
          零填充 zerofill
    枚举值管理
      枚举定义
        枚举值 value
        显示标签 label
        描述 description
        排序 sort_order
        默认值 is_default
        状态 is_active
      操作功能
        添加枚举值
        修改枚举值
        删除枚举值
        排序调整
        批量导入
```

### 2.2 索引和关系管理

```mermaid
mindmap
  root((索引和关系管理))
    索引管理
      索引类型
        主键索引 PRIMARY
        唯一索引 UNIQUE
        普通索引 INDEX
        全文索引 FULLTEXT
        空间索引 SPATIAL
      索引属性
        索引名称 index_name
        是否唯一 is_unique
        索引方法 index_method
          B-Tree BTREE
          哈希 HASH
          GiST GIST
          GIN GIN
        可见性 is_visible
        压缩 compression
      复合索引
        字段组合
        字段顺序 sort_order
        排序方向 direction
          升序 ASC
          降序 DESC
        前缀长度 length
      索引优化
        索引统计 cardinality
        索引长度 index_length
        使用率监控
        性能分析
    关系管理
      关系类型
        一对一 ONE_TO_ONE
        一对多 ONE_TO_MANY
        多对多 MANY_TO_MANY
      外键约束
        源表字段 from_field
        目标表字段 to_field
        约束行为
          更新时 on_update
            级联 CASCADE
            设空 SET NULL
            限制 RESTRICT
            无操作 NO ACTION
          删除时 on_delete
            级联 CASCADE
            设空 SET NULL
            限制 RESTRICT
            无操作 NO ACTION
      关系属性
        关系名称 relationship_name
        关系描述 description
        是否必需 is_required
        级联删除 cascade_delete
      关系可视化
        关系图展示
          表连接线
          字段对应
          关系类型标识
        依赖分析
          正向依赖
          反向依赖
          循环依赖检测
        路径查找
          最短路径
          依赖链追踪
          影响范围分析
```

### 2.3 智能化功能

```mermaid
mindmap
  root((智能化功能))
    AI文档解析
      支持格式
        文本格式
          Markdown .md
          纯文本 .txt
          SQL文件 .sql
        表格格式
          Excel .xlsx/.xls
          CSV .csv
          数据字典
        文档格式
          Word .docx/.doc
          PDF .pdf
          富文本 .rtf
        结构化格式
          JSON .json
          XML .xml
          YAML .yaml
      AI服务集成
        本地模型
          Ollama
            模型管理
            离线处理
            数据安全
          本地API
            自定义模型
            内网部署
        云端服务
          OpenAI
            GPT-3.5/4
            API配置
            费用控制
          DeepSeek
            代码专用模型
            中文支持
            性价比高
          其他服务
            Claude
            Gemini
            百度文心
      解析流程
        文档预处理
          格式转换
          编码检测
          内容清理
          结构分析
        AI模型调用
          提示词构建
          参数配置
          超时处理
          重试机制
        结果处理
          JSON解析
          数据验证
          错误修复
          结果格式化
        用户交互
          解析预览
          结果确认
          手动调整
          批量导入
    代码生成
      DDL语句生成
        CREATE语句
          表结构定义
          字段定义
          约束定义
          索引定义
        ALTER语句
          添加字段
          修改字段
          删除字段
          添加约束
        DROP语句
          删除表
          删除索引
          删除约束
      数据库方言支持
        MySQL语法
          存储引擎
          字符集配置
          索引类型
        PostgreSQL语法
          数据类型
          约束语法
          索引方法
        SQLite语法
          类型系统
          约束限制
          索引支持
        SQL Server语法
          数据类型映射
          约束语法
          索引选项
      代码模板
        建表模板
          标准模板
          业务模板
          审计模板
        字段模板
          常用字段
          系统字段
          业务字段
        索引模板
          性能索引
          查询索引
          唯一索引
    数据迁移
      版本管理
        版本号管理
        变更追踪
        回滚支持
      迁移脚本生成
        增量迁移
          新增表
          新增字段
          新增索引
        结构变更
          字段类型修改
          约束变更
          索引重建
        数据迁移
          数据转换
          数据清理
          数据验证
      部署管理
        环境配置
          开发环境
          测试环境
          生产环境
        执行策略
          自动执行
          手动确认
          分步执行
```

## 3. 技术架构思维导图

### 3.1 前端架构

```mermaid
mindmap
  root((前端架构))
    核心技术栈
      React 18
        组件系统
          函数组件
          Hook机制
          组件通信
          生命周期
        状态管理
          useState本地状态
          useContext全局状态
          useReducer复杂状态
        性能优化
          useMemo缓存计算
          useCallback缓存函数
          React.memo组件缓存
          懒加载组件
      TypeScript
        类型系统
          基础类型
          接口定义
          泛型约束
          联合类型
        代码质量
          编译时检查
          IDE支持
          重构安全
        项目配置
          tsconfig配置
          路径映射
          严格模式
      样式系统
        Tailwind CSS
          原子化CSS
          响应式设计
          主题配置
          组件样式
        CSS Modules
          样式隔离
          类名生成
          动态样式
    状态管理架构
      Zustand状态库
        全局状态
          数据表列表
          选中状态
          UI状态
          用户配置
        状态更新
          同步更新
          异步操作
          批量更新
        状态持久化
          localStorage
          sessionStorage
          IndexedDB
      React Query
        服务端状态
          数据获取
          缓存管理
          更新策略
          错误处理
        查询优化
          并发查询
          预取数据
          后台更新
          离线支持
        变更操作
          乐观更新
          回滚机制
          重试策略
    组件架构
      页面组件
        项目详情页
          表格列表
          搜索筛选
          批量操作
        表详情页
          标签页导航
          字段管理
          索引管理
          关系图
      业务组件
        数据表卡片
          基础信息展示
          统计数据
          状态标识
          操作按钮
        字段编辑器
          类型选择
          属性配置
          约束设置
          验证规则
        关系编辑器
          表选择
          字段映射
          约束配置
          可视化预览
      通用组件
        表单组件
          输入框
          选择器
          开关按钮
          文件上传
        反馈组件
          消息提示
          确认对话框
          加载状态
          进度条
        布局组件
          栅格系统
          分割面板
          标签页
          抽屉组件
```

### 3.2 后端架构

```mermaid
mindmap
  root((后端架构))
    核心技术栈
      Node.js运行时
        事件循环
        异步编程
        流处理
        错误处理
      Express框架
        路由系统
        中间件机制
        请求处理
        响应格式
      Prisma ORM
        数据模型定义
        查询构建器
        事务管理
        迁移系统
    数据访问层
      数据库连接
        连接池管理
        连接配置
        健康检查
        故障恢复
      查询优化
        索引使用
        查询计划
        慢查询分析
        性能监控
      事务管理
        ACID保证
        隔离级别
        死锁处理
        回滚机制
    业务服务层
      数据表服务
        CRUD操作
        批量操作
        验证逻辑
        业务规则
      字段管理服务
        字段定义
        约束管理
        类型转换
        默认值处理
      关系管理服务
        关系建立
        约束检查
        依赖分析
        完整性维护
      AI集成服务
        文档解析
        模型调用
        结果处理
        错误重试
    API接口层
      RESTful API
        资源定义
        HTTP方法
        状态码
        响应格式
      请求验证
        参数验证
        权限检查
        频率限制
        安全防护
      错误处理
        异常捕获
        错误分类
        错误响应
        日志记录
      接口文档
        Swagger集成
        API文档生成
        示例代码
        测试工具
```

## 4. 数据流思维导图

### 4.1 数据创建流程

```mermaid
mindmap
  root((数据创建流程))
    用户操作
      手动创建
        填写表单
        字段配置
        约束设置
        预览确认
      AI导入
        文档上传
        格式选择
        AI解析
        结果预览
        批量导入
      批量操作
        Excel导入
        SQL导入
        模板导入
        批量创建
    前端处理
      表单验证
        必填检查
        格式验证
        业务规则
        重复检查
      数据转换
        类型转换
        格式统一
        编码处理
        默认值填充
      UI更新
        加载状态
        进度显示
        结果反馈
        错误提示
    后端处理
      请求接收
        参数解析
        格式验证
        权限检查
        限流控制
      业务逻辑
        数据验证
        业务规则检查
        依赖关系处理
        完整性检查
      数据持久化
        事务开启
        数据插入
        关系建立
        索引更新
        事务提交
      响应返回
        结果封装
        错误处理
        日志记录
        性能统计
```

### 4.2 数据查询流程

```mermaid
mindmap
  root((数据查询流程))
    查询触发
      页面加载
        初始数据
        分页查询
        默认排序
      用户操作
        搜索查询
        筛选条件
        排序变更
        分页切换
      自动刷新
        定时刷新
        数据变更
        缓存失效
    前端处理
      请求构建
        查询参数
        分页参数
        排序参数
        筛选条件
      缓存机制
        查询缓存
        结果缓存
        失效策略
      UI渲染
        加载状态
        数据展示
        分页控件
        空状态处理
    后端处理
      请求解析
        参数提取
        条件构建
        权限检查
      查询执行
        SQL构建
        索引利用
        查询优化
        结果集处理
      数据处理
        关联查询
        字段映射
        格式转换
        分页处理
      响应构建
        数据序列化
        元数据添加
        性能统计
        缓存头设置
```

## 5. 用户体验思维导图

### 5.1 界面交互设计

```mermaid
mindmap
  root((界面交互设计))
    视觉设计
      布局系统
        栅格布局
        弹性布局
        响应式设计
        组件对齐
      色彩系统
        主题色彩
        状态色彩
        语义色彩
        辅助色彩
      字体系统
        字体族
        字号层次
        行间距
        字重变化
      图标系统
        功能图标
        状态图标
        装饰图标
        品牌图标
    交互体验
      操作反馈
        即时反馈
        视觉反馈
        音效反馈
        触觉反馈
      状态提示
        加载状态
        成功状态
        错误状态
        警告状态
      用户引导
        新手引导
        功能提示
        操作指南
        帮助文档
      快捷操作
        键盘快捷键
        右键菜单
        拖拽操作
        手势操作
    可用性设计
      易用性
        操作简单
        界面直观
        流程顺畅
        错误容错
      可访问性
        键盘导航
        屏幕阅读器
        高对比度
        字体缩放
      国际化
        多语言支持
        文本方向
        数字格式
        日期格式
      性能体验
        加载速度
        响应时间
        动画流畅
        内存使用
```

### 5.2 业务流程设计

```mermaid
mindmap
  root((业务流程设计))
    表管理流程
      创建流程
        进入创建页面
        填写基础信息
        配置字段结构
        设置索引
        预览确认
        提交保存
      编辑流程
        选择目标表
        进入编辑模式
        修改表信息
        字段管理
        关系配置
        保存变更
      删除流程
        选择目标表
        确认删除
        检查依赖关系
        执行删除
        清理相关数据
    导入流程
      文档导入
        选择文档文件
        选择解析方式
        配置AI参数
        开始解析
        预览结果
        确认导入
        批量创建
      模板导入
        选择导入模板
        配置模板参数
        数据映射
        预览结果
        确认导入
    导出流程
      SQL导出
        选择导出表
        配置导出选项
        生成SQL语句
        下载文件
      模板导出
        选择导出模板
        配置模板格式
        生成文档
        下载文件
```

## 6. 性能优化思维导图

### 6.1 前端性能优化

```mermaid
mindmap
  root((前端性能优化))
    加载优化
      资源优化
        代码分割
        懒加载
        预加载
        缓存策略
      打包优化
        Tree Shaking
        代码压缩
        图片优化
        字体优化
    渲染优化
      组件优化
        组件缓存
        避免重复渲染
        虚拟滚动
        分页加载
      状态优化
        状态提升
        状态分离
        缓存状态
        异步状态
    交互优化
      响应优化
        防抖节流
        异步处理
        加载状态
        错误处理
      用户体验
        骨架屏
        渐进加载
        平滑动画
        反馈及时
```

### 6.2 后端性能优化

```mermaid
mindmap
  root((后端性能优化))
    数据库优化
      查询优化
        索引优化
        SQL优化
        查询计划
        慢查询分析
      连接优化
        连接池
        连接复用
        连接监控
      存储优化
        分区表
        归档策略
        压缩存储
    服务优化
      缓存策略
        内存缓存
        Redis缓存
        CDN缓存
      并发处理
        异步处理
        队列机制
        负载均衡
      资源管理
        内存管理
        CPU优化
        IO优化
```

## 7. 部署和运维思维导图

### 7.1 部署架构

```mermaid
mindmap
  root((部署架构))
    容器化部署
      Docker镜像
        前端镜像
        后端镜像
        数据库镜像
        Nginx镜像
      Docker Compose
        服务编排
        网络配置
        数据卷
        环境变量
    云原生部署
      Kubernetes
        Pod管理
        Service配置
        Ingress路由
        ConfigMap配置
      微服务架构
        服务拆分
        API网关
        服务发现
        配置中心
    传统部署
      服务器部署
        环境配置
        依赖安装
        服务启动
        进程守护
      负载均衡
        Nginx配置
        反向代理
        健康检查
        故障转移
```

### 7.2 监控和运维

```mermaid
mindmap
  root((监控和运维))
    系统监控
      性能监控
        CPU使用率
        内存使用率
        磁盘IO
        网络流量
      应用监控
        响应时间
        错误率
        并发数
        队列长度
      数据库监控
        连接数
        查询性能
        索引使用
        存储空间
    日志管理
      日志收集
        应用日志
        访问日志
        错误日志
        审计日志
      日志分析
        日志聚合
        统计分析
        异常检测
        告警规则
    备份恢复
      数据备份
        定期备份
        增量备份
        异地备份
        备份验证
      灾难恢复
        恢复测试
        RTO目标
        RPO目标
        故障演练
```

## 8. 安全架构思维导图

### 8.1 安全防护

```mermaid
mindmap
  root((安全防护))
    身份认证
      用户认证
        用户名密码
        多因子认证
        单点登录
        社交登录
      权限管理
        角色定义
        权限分配
        资源控制
        操作审计
    数据安全
      数据加密
        传输加密
        存储加密
        字段加密
        密钥管理
      数据脱敏
        敏感数据识别
        脱敏规则
        动态脱敏
        静态脱敏
    网络安全
      防火墙
        端口控制
        IP白名单
        流量限制
      安全协议
        HTTPS
        WSS
        OAuth2
        JWT
    应用安全
      输入验证
        参数验证
        SQL注入防护
        XSS防护
        CSRF防护
      安全配置
        安全头设置
        错误信息隐藏
        版本信息隐藏
```

---

**思维导图说明**：
- 本文档使用Mermaid语法创建思维导图
- 可以在支持Mermaid的Markdown编辑器中查看图形化效果
- 建议使用Typora、GitBook、GitHub等支持Mermaid的平台查看
- 思维导图涵盖了DevAPI Manager数据模型功能的完整架构和实现细节

**文档版本**: v1.0  
**创建时间**: 2025-01-15  
**最后更新**: 2025-01-15  
**维护人员**: DevAPI团队