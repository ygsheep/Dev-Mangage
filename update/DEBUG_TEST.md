# 调试系统测试指南

## 🚨 问题已修复！

已修复无限递归调用的问题：
- 保存了原始console对象引用
- 避免在日志记录中调用重写后的console方法
- 防止循环调用导致堆栈溢出

## 🧪 测试步骤

### 1. 打开应用
访问：http://localhost:5174

### 2. 打开调试面板
按快捷键：`Ctrl+Shift+D`
或点击右下角的 🐛 按钮

### 3. 测试基本功能

#### 测试日志记录
在浏览器控制台中输入：
```javascript
console.log('测试日志')
console.warn('测试警告')
console.error('测试错误')
```

#### 测试调试API
```javascript
window.__DEBUG__.log('自定义日志', { data: 'test' })
window.__DEBUG__.warn('自定义警告')
window.__DEBUG__.error('自定义错误')
```

#### 测试性能测量
```javascript
const timer = window.__DEBUG__.time('测试操作')
setTimeout(() => timer.end(), 1000)
```

### 4. 测试UI交互

#### 日志标签页
- ✅ 查看实时日志流
- ✅ 按级别过滤（DEBUG/INFO/WARN/ERROR）
- ✅ 搜索日志内容
- ✅ 点击日志查看详情

#### 网络标签页
- ✅ 点击页面导航链接，观察网络请求
- ✅ 查看API调用（如加载项目数据）
- ✅ 查看请求详情和响应数据

#### 性能标签页
- ✅ 查看内存使用情况
- ✅ 查看页面加载性能指标
- ✅ 查看自定义性能测量

#### 组件标签页
- ✅ 查看React组件状态变化
- ✅ 观察HomePage和Layout组件的状态记录

### 5. 测试数据导出

#### 手动导出
```javascript
window.__DEBUG__.export()
```

#### 快捷键导出
按 `Ctrl+Shift+E`

### 6. 测试窗口操作

#### 拖拽窗口
- 拖拽标题栏移动调试窗口
- 拖拽右下角调整窗口大小

#### 最小化/展开
- 点击黄色按钮最小化
- 再次点击展开

#### 关闭窗口
- 点击红色按钮关闭
- 或按 `Ctrl+Shift+D` 切换显示

### 7. 验证自动功能

#### 页面导航
1. 点击左侧导航菜单
2. 在日志标签页查看路由变化记录
3. 在组件标签页查看Layout状态变化

#### 首页交互
1. 点击快速操作按钮
2. 查看用户操作日志记录
3. 观察性能测量结果

#### 网络请求监控
1. 刷新页面
2. 在网络标签页查看API请求
3. 点击请求查看详细信息

## ✅ 预期结果

- 不再出现"Maximum call stack size exceeded"错误
- 日志正常记录和显示
- 网络请求正常监控
- 性能指标正常采集
- 组件状态正常跟踪
- 数据导出功能正常
- 窗口操作流畅

## 🔧 如果仍有问题

1. **清除浏览器缓存**
   - 按 F12 打开开发者工具
   - 右键刷新按钮，选择"清空缓存并硬性重新加载"

2. **检查控制台错误**
   - 查看是否还有其他JavaScript错误
   - 如有错误，记录错误信息

3. **重启开发服务器**
   ```bash
   # 停止当前服务
   Ctrl+C
   
   # 重新启动
   npm run dev
   ```

## 📊 性能影响

调试系统设计为最小性能影响：
- 仅在开发环境启用
- 异步日志处理
- 智能缓冲区管理
- 优化的事件监听

---

🎉 **调试系统现已准备就绪，开始调试您的应用吧！**